{% extends 'base.html'%}

{% block content %}
    
    <div class="row">
        <div class="col l10 offset-l1 ">
            <h4>Add Recipe</h4>
            
            <form id="update-form" action="{{ url_for('update_recipe', recipe_id=recipe._id) }}" method="POST" class="" enctype="multipart/form-data">
                    
                    <div class="input-field col s12">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <input id="icon_prefix dish_name" name="dish_name" type="text" class="validate" value="{{recipe.dish_name}}" >
                        <label for="icon_prefix"> Dish Name</label>
                    </div>

                    <div class="input-field col s12">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <textarea name="descr" id="icon_prefix descr" class="materialize-textarea validate">{{recipe.descr}}</textarea>
                        <label for="icon_prefix"> Description</label>
                    </div>
                    
                    <div class="input-field col s12 m4">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <input id="icon_prefix c_time" name="c_time" type="text" class="validate" value="{{recipe.c_time}}">
                        <label for="icon_prefix"> Cooking Time (Minutes)</label>
                    </div>
                    
                     <div class="input-field col s12 m4">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <select id="serves" name="serves" >
                            {% if recipe.serves == "1" %}
                            <option value="1" selected >1</option>
                            {% else %}
                            <option value="1">1</option>
                            {% endif %}
                            
                            {% if recipe.serves == "2" %}
                            <option value="2" selected>2</option>
                            {% else %}
                            <option value="2">2</option>
                            {% endif %}
                            
                            {% if recipe.serves == "3" %}
                            <option value="3" selected>3</option>
                            {% else %}
                            <option value="3">3</option>
                            {% endif %}
                            
                            {% if recipe.serves == "4" %}
                            <option value="4" selected>4</option>
                            {% else %}
                            <option value="4">4</option>
                            {% endif %}
                            
                            {% if recipe.serves == "5" %}
                            <option value="5" selected>5</option>
                            {% else %}
                            <option value="5">5</option>
                            {% endif %}
                            
                            {% if recipe.serves == "6" %}
                            <option value="6" selected>6</option>
                            {% else %}
                            <option value="6">6</option>
                            {% endif %}
                            
                            {% if recipe.serves == "7" %}
                            <option value="7" selected>7</option>
                            {% else %}
                            <option value="7">7</option>
                            {% endif %}
                            
                            {% if recipe.serves == "8" %}
                            <option value="8" selected>8</option>
                            {% else %}
                            <option value="8">8</option>
                            {% endif %}
                        </select>
                        <label>Serves</label>
                    </div>
                    
                    <div class="input-field col s12 m4">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <select id="cuisine" name="cuisine"  >
                        {% for cuis in cuisines %}
                            {% if cuis.cuisine_desc == recipe.cuisine %}
                                <option value="{{cuis.cuisine_desc}}" selected>{{cuis.cuisine_desc}}</option>
                            {% else %}
                                <option value="{{cuis.cuisine_desc}}">{{cuis.cuisine_desc}}</option>
                            {% endif %}
                        {% endfor %}
                        </select>
                        <label>Cuisine</label>
                    </div>

                    <div class="input-field col m12">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        <input id="icon_prefix author" name="author" type="text" class="validate" value="{{recipe.author}}">
                        <label for="icon_prefix">Author</label>
                    </div>
                    
                    <div id="ingredients" class="input-field col s12">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i> 
                        {% for _ingr in recipe.ingr %}
                        <input id="icon_prefix ingr" name="ingr" type="text" class="validate" value="{{_ingr}}">
                        {% endfor %}
                        <label for="icon_prefix">Ingredients</label>
                    </div>
                    
                    <div class="col s12">
                        <button class="btn waves-effect waves-light right" type="button" id="add_ingr">
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                        <button class="btn waves-effect waves-light right" type="button" id="remove_ingr">
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                        </button>
                    </div>
                    
                    
                    <div id="steps" class="input-field col s12">
                        <i class="fa fa-pencil-square-o prefix" aria-hidden="true"></i>
                        {% for _step in recipe.step %}
                        <textarea id="icon_prefix step" name="step" type="text" class="materialize-textarea validate">{{_step}}</textarea>
                        {% endfor %}
                        <label for="icon_prefix">Steps</label>
                    </div>
                    
                    <div class="col s12">
                        <button class="btn waves-effect waves-light right" type="button" id="add_step" >
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                        <button class="btn waves-effect waves-light right" type="button" id="remove_step" >
                            <i class="fa fa-minus-square" aria-hidden="true"></i>
                        </button>
                    </div>
                    

                    <div class="col s4 offset-s5">
                        <button class="btn waves-effect waves-light " type="submit" name="action">Update Recipe
                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% endblock %}